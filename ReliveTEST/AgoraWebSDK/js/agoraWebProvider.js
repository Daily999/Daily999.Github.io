function _0x17fd(r,e){let o=_0x40c8();return(_0x17fd=function(r,e){return r-=362,o[r]})(r,e)}function _0x40c8(){let r=["subscribe","reason","isClosing","logout","stringify","ens","710184oqxLKV","onBinaryEventName","publish","[RTM] Unsubscribe: ","unityInstance","12533076KMGGyo","RTM connected.","log","isClosedFlags","rtmHookerName","[Agora] RTM Client is null or undefined","audioTrack","LEAVE","1651527rbZthl","[RTM] Error Send: ","user-published","appId","channelName","isClosed","leave","client","createMicrophoneAudioTrack","from","uid","clientRoleType","RTC user unpublished: ","addEventListener","RTC closed.","fromCodePoint","createClient","9617454thjCTs"," failed, the error code is ","8421tFPROy","rtc","[RTM] Error status (Create): ","RTM close connection (leave)!","SendMessage","27JheKQz","login","RTC connected.","138qsxEKg","RTC connection success!","AgoraWebRtcHooker","2544802cgYMuq","onCloseEventName","findIndex","token","length","396685sSytnF","[RTM] Error status (Login): ","chName","RTM closed.","methods","localAudioTrack","audio","OnClose","344NyOqfj","rtcHookerName","push","JoinRtcChannel","10amGhcT","vp8","BINARY","AgoraWebRtmHooker","play","rtm","[RTM] Error status (Leave): ","join",", because of: ","codePointAt","onOpenEventName","eventType",", msChannelName: ","onErrorEventName","message"];return(_0x40c8=function(){return r})()}(()=>{for(var r=_0x17fd,e=_0x40c8();;)try{if(965258==-parseInt(r(381))+-parseInt(r(411))/2+parseInt(r(405))/3*(parseInt(r(368))/4)+-parseInt(r(416))/5*(-parseInt(r(408))/6)+-parseInt(r(400))/7*(parseInt(r(424))/8)+parseInt(r(373))/9+parseInt(r(428))/10*(-parseInt(r(398))/11))break;e.push(e.shift())}catch(r){e.push(e.shift())}})();var agoraWebProvider={};(()=>{var r=_0x17fd;console[r(375)]("Initialized AgoraWebProvider."),agoraWebProvider[r(367)]={rtcHookerName:r(410),rtmHookerName:r(431),onOpenEventName:"OnOpen",onBinaryEventName:"OnBinary",onErrorEventName:"OnError",onCloseEventName:r(423)},agoraWebProvider[r(401)]={},agoraWebProvider[r(401)][r(364)]=!1,agoraWebProvider[r(401)][r(386)]=!0,agoraWebProvider[r(401)][r(388)]=null,agoraWebProvider.rtc[r(421)]=null,agoraWebProvider.rtm={},agoraWebProvider[r(433)][r(364)]=!1,agoraWebProvider[r(433)].isClosedFlags=[],agoraWebProvider.rtm.client=null,agoraWebProvider.methods={IsConnected:function(){var r=_0x17fd;let e=!0;if(0<agoraWebProvider.rtm[r(376)][r(415)])for(var{isClosed:o}of agoraWebProvider[r(433)][r(376)])if(e=o)break;return!agoraWebProvider[r(401)][r(386)]&&!e},CreateRtcService:function(r){var e=_0x17fd;null===agoraWebProvider[e(401)][e(388)]&&(agoraWebProvider[e(401)][e(388)]=AgoraRTC[e(397)]({mode:"rtc",codec:e(429)})),agoraWebProvider.methods[e(427)](r)},JoinRtcChannel:async function(r){let a=_0x17fd,n=agoraWebProvider.rtc[a(388)];if(null!=n){var e,o=r[a(384)],i=r[a(385)],t=r.rtc[a(414)],d=r.rtc[a(391)];try{await n[a(435)](o,i,t,d),1===r.rtc[a(392)]?(e=await AgoraRTC[a(389)](),agoraWebProvider.rtc[a(421)]=e,await n[a(370)]([e])):2===r[a(401)][a(392)]&&(n.on(a(383),async(r,e)=>{var o=a;await n[o(362)](r,e),e===o(422)&&r[o(379)][o(432)]()}),n.on("user-unpublished",async r=>{var e=a;console.log(e(393)+r.uid)})),agoraWebProvider[a(401)][a(386)]=!1,window[a(372)][a(404)](agoraWebProvider[a(367)].rtcHookerName,agoraWebProvider[a(367)][a(438)],a(407)),console[a(375)](a(409))}catch(r){agoraWebProvider.rtc[a(386)]=!0,window[a(372)][a(404)](agoraWebProvider[a(367)][a(425)],agoraWebProvider[a(367)][a(441)],r),console[a(375)](r)}}else console.log("[Agora] RTC Client is null or undefined")},CloseRtc:async function(){var r=_0x17fd;agoraWebProvider[r(401)][r(364)]||(agoraWebProvider.rtc[r(364)]=!0,null!=agoraWebProvider[r(401)].localAudioTrack&&(agoraWebProvider[r(401)][r(421)].close(),agoraWebProvider.rtc[r(421)]=null),null!=agoraWebProvider.rtc.client&&(await agoraWebProvider[r(401)].client[r(387)](),window[r(372)][r(404)](agoraWebProvider[r(367)][r(425)],agoraWebProvider[r(367)][r(412)],r(395)),agoraWebProvider[r(401)][r(388)]=null),agoraWebProvider.rtc[r(364)]=!1,agoraWebProvider[r(401)][r(386)]=!0)},CreateRtcDataStreamId:function(){},SendByRtc:function(r,e){return!1},CreateRtmService:function(r){let e=_0x17fd,o=r.appId,a=r[e(433)][e(391)],n=r[e(385)];try{var i=AgoraRTM.RTM;null===agoraWebProvider[e(433)][e(388)]&&(agoraWebProvider[e(433)].client=new i(o,a)),agoraWebProvider[e(420)].JoinRtmMessageChannel(r)}catch(r){i=agoraWebProvider[e(433)][e(376)].findIndex(r=>r[e(418)]===n);-1!==i?agoraWebProvider.rtm[e(376)][i][e(386)]=!0:agoraWebProvider.rtm[e(376)].push({chName:n,isClosed:!0}),window[e(372)][e(404)](agoraWebProvider[e(367)][e(377)],agoraWebProvider[e(367)].onErrorEventName,JSON[e(366)](r)),console[e(375)](e(402)+JSON[e(366)](r))}},JoinRtmMessageChannel:async function(e){let o=_0x17fd,r=agoraWebProvider.rtm.client,a=(e.appId,e.channelName),n=e.rtm.token;e[o(433)][o(391)];if(null!=r){r[o(394)](o(442),r=>{var e=o;a===r[e(385)]&&r.messageType===e(430)&&(r=agoraWebProvider[e(420)].BytesToBase64(r.message),window[e(372)][e(404)](agoraWebProvider.ens[e(377)],agoraWebProvider[e(367)][e(369)],r))}),r[o(394)]("presence",r=>{var e=o;a===r[e(385)]&&("JOIN"===r[e(439)]?console[e(375)]("RTM connection success!"):r[e(439)]===e(380)&&console[e(375)](e(403)))}),r[o(394)]("status",r=>{var e=o;r.state,e(363);console[e(375)]("[RTM] status: "+JSON[e(366)](r))});try{var i=await r[o(406)]({token:n});console[o(375)](i)}catch(r){e=agoraWebProvider[o(433)][o(376)][o(413)](r=>r[o(418)]===a);-1!==e?agoraWebProvider[o(433)][o(376)][e][o(386)]=!0:agoraWebProvider[o(433)][o(376)][o(426)]({chName:a,isClosed:!0}),window[o(372)][o(404)](agoraWebProvider[o(367)][o(377)],agoraWebProvider.ens[o(441)],JSON[o(366)](r)),console[o(375)](o(417)+JSON[o(366)](r))}try{var t=await r[o(362)](a);agoraWebProvider.rtm[o(376)][o(426)]({chName:a,isClosed:!1}),window[o(372)][o(404)](agoraWebProvider[o(367)][o(377)],agoraWebProvider[o(367)][o(438)],o(374)),console[o(375)](t)}catch(r){i=agoraWebProvider[o(433)][o(376)][o(413)](r=>r[o(418)]===a);-1!==i?agoraWebProvider[o(433)][o(376)][i][o(386)]=!0:agoraWebProvider[o(433)][o(376)][o(426)]({chName:a,isClosed:!0}),window[o(372)][o(404)](agoraWebProvider[o(367)][o(377)],agoraWebProvider[o(367)][o(441)],JSON[o(366)](r)),console[o(375)]("[RTM] Error status (Subscribe): "+JSON[o(366)](r))}}else console.log(o(378))},LeaveRtm:async function(e){let o=_0x17fd,r=agoraWebProvider.rtm.client;if(null!=r)try{var a=await r.unsubscribe(e),n=agoraWebProvider[o(433)][o(376)][o(413)](r=>r[o(418)]===e);-1!==n?agoraWebProvider[o(433)][o(376)][n][o(386)]=!0:agoraWebProvider[o(433)][o(376)][o(426)]({chName:e,isClosed:!0}),window[o(372)][o(404)](agoraWebProvider[o(367)].rtmHookerName,agoraWebProvider[o(367)][o(412)],o(419)),console.log(o(371)+a+o(440)+e)}catch(r){n=agoraWebProvider[o(433)].isClosedFlags[o(413)](r=>r[o(418)]===channelName);-1!==n?agoraWebProvider[o(433)][o(376)][n][o(386)]=!0:agoraWebProvider[o(433)][o(376)][o(426)]({chName:channelName,isClosed:!0}),window[o(372)].SendMessage(agoraWebProvider[o(367)][o(377)],agoraWebProvider[o(367)][o(441)],JSON[o(366)](r)),console[o(375)](o(434)+JSON[o(366)](r))}},CloseRtm:async function(){var e=_0x17fd;if(!agoraWebProvider.rtm.isClosing){agoraWebProvider.rtm[e(364)]=!0;var o=agoraWebProvider[e(433)][e(388)];if(null!=o)try{await o[e(365)]();agoraWebProvider[e(433)][e(388)]=null}catch(r){var{operation:o,reason:a,errorCode:n}=r;window[e(372)][e(404)](agoraWebProvider[e(367)][e(377)],agoraWebProvider[e(367)][e(441)],JSON[e(366)](r)),console[e(375)](o+e(399)+n+e(436)+a+".")}agoraWebProvider[e(433)].isClosing=!1,agoraWebProvider[e(433)].isClosedFlags=[]}},SendByRtm:async function(r,e){var o=_0x17fd,a=agoraWebProvider[o(433)][o(388)];if(null!=a)try{var n=await a[o(370)](r,e);return console[o(375)](n),!0}catch(r){console[o(375)](o(382)+r)}return!1},Base64ToBytes:function(r){let e=_0x17fd,o=atob(r);return Uint8Array[e(390)](o,r=>r[e(437)](0))},BytesToBase64:function(r){let e=_0x17fd,o=Array.from(r,r=>String[e(396)](r))[e(435)]("");return btoa(o)}}})();
